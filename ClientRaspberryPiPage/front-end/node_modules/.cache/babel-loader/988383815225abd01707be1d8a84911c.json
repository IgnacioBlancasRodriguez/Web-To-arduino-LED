{"remainingRequest":"C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\src\\components\\TurnOnOffBtn.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\src\\components\\TurnOnOffBtn.vue","mtime":1607175141439},{"path":"C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwoKdmFyIGlvID0gcmVxdWlyZSgic29ja2V0LmlvLWNsaWVudCIpOwoKdmFyIHNvY2tldCA9IGlvKCJodHRwOi8vbG9jYWxob3N0OjMwMDEiLCB7CiAgdHJhbnNwb3J0czogWyJ3ZWJzb2NrZXQiXSwKICB1cGdyYWRlOiBmYWxzZSwKICByZWNvbm5lY3Q6IGZhbHNlCn0pOwp2YXIgZGF0YSA9IHsKICAiY2xpZW50VHlwZSI6ICJjbGllbnQiCn07CnNvY2tldC5lbWl0KCJjbGllbnQtdHlwZSIsIGRhdGEpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5hdkJhciIsCiAgcHJvcHM6IFsiTGVkQ29tcG9uZW50Il0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ0blN0YXRlOiAiT24iLAogICAgICBhcmR1aW5vOiAiIiwKICAgICAgcG9zc2libGVTdGF0ZXM6IFsiT24iLCAiT2ZmIl0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0U3RhdGU6IGZ1bmN0aW9uIGdldFN0YXRlKCkgewogICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZVN0YXRlc1tNYXRoLmFicyh0aGlzLnBvc3NpYmxlU3RhdGVzLmluZGV4T2YodGhpcy4kc3RvcmUuc3RhdGUubGVkU3RhdGUpIC0gMSldOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlU3RhdGU6IGZ1bmN0aW9uIGNoYW5nZVN0YXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coc29ja2V0LmNvbm5lY3RlZCk7CgogICAgICBpZiAoc29ja2V0LmNvbm5lY3RlZCA9PSB0cnVlKSB7CiAgICAgICAgc29ja2V0LmVtaXQoImdldC1hcmR1aW5vcyIsIHsKICAgICAgICAgICJyZXF1ZXN0IjogImdldC1hcmR1aW5vcyIKICAgICAgICB9KTsKICAgICAgICBzb2NrZXQub25jZSgiZ2V0LWFyZHVpbm9zLXJlc3BvbnNlIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgX3RoaXMuYXJkdWlubyA9ICIiLmNvbmNhdChkYXRhWyJhcmR1aW5vc18iLmNvbmNhdCgwKV0pOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuYXJkdWlubyk7CiAgICAgICAgICBzb2NrZXQuZW1pdCgiY2hhbmdlLXN0YXRlIiwgewogICAgICAgICAgICAiYnRuU3RhdGUiOiAiIi5jb25jYXQoX3RoaXMucG9zc2libGVTdGF0ZXNbTWF0aC5hYnMoX3RoaXMucG9zc2libGVTdGF0ZXMuaW5kZXhPZihfdGhpcy4kc3RvcmUuc3RhdGUubGVkU3RhdGUpIC0gMSldKSwKICAgICAgICAgICAgInRhcmdldCI6ICIiLmNvbmNhdChfdGhpcy5hcmR1aW5vKQogICAgICAgICAgfSk7CiAgICAgICAgICBzb2NrZXQub25jZSgiY2hhbmdlLXN0YXRlLXJlc3BvbnNlIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIlJlc3BvbnNlIHRvIGNoYW5nZS1zdGF0ZSByZXF1ZXN0OiAiLmNvbmNhdChkYXRhWyJuZXdCdG5TdGF0ZSJdKSk7CgogICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJjaGFuZ2VMZWRTdGF0ZSIsIHsKICAgICAgICAgICAgICBuZXdMZWRTdGF0ZTogZGF0YVsibmV3QnRuU3RhdGUiXQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsCiAgICAgICAgICB0ZXh0OiAnU29tZXRoaW5nIHdlbnQgd3JvbmchJwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\nacho\\Web-To-arduino-LED\\ClientArduinoPage\\front-end\\src\\components\\TurnOnOffBtn.vue"],"names":[],"mappings":";;AAIA,IAAM,EAAC,GAAI,OAAO,CAAC,kBAAD,CAAlB;;AACA,IAAM,MAAK,GAAI,EAAE,CAAC,uBAAD,EAA0B;AACzC,EAAA,UAAU,EAAE,CAAC,WAAD,CAD6B;AAEzC,EAAA,OAAO,EAAE,KAFgC;AAGzC,EAAA,SAAS,EAAE;AAH8B,CAA1B,CAAjB;AAKA,IAAI,IAAG,GAAI;AACP,gBAAc;AADP,CAAX;AAGA,MAAM,CAAC,IAAP,CAAY,aAAZ,EAA2B,IAA3B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,KAAK,EAAE,CAAC,cAAD,CAFM;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,IADL;AAEL,MAAA,OAAO,EAAE,EAFJ;AAGL,MAAA,cAAc,EAAE,CAAC,IAAD,EAAO,KAAP;AAHX,KAAP;AAKD,GATY;AAUb,EAAA,QAAQ,EAAE;AACR,IAAA,QADQ,sBACG;AACT,aAAO,KAAK,cAAL,CAAoB,IAAI,CAAC,GAAL,CAAS,KAAK,cAAL,CAAoB,OAApB,CAA4B,KAAK,MAAL,CAAY,KAAZ,CAAkB,QAA9C,IAA0D,CAAnE,CAApB,CAAP;AACF;AAHQ,GAVG;AAeb,EAAA,OAAO,EAAE;AACP,IAAA,WADO,yBACO;AAAA;;AACZ,MAAA,OAAO,CAAC,GAAR,CAAY,MAAM,CAAC,SAAnB;;AACA,UAAI,MAAM,CAAC,SAAP,IAAoB,IAAxB,EAA8B;AAC5B,QAAA,MAAM,CAAC,IAAP,CAAY,cAAZ,EAA4B;AAC1B,qBAAW;AADe,SAA5B;AAGA,QAAA,MAAM,CAAC,IAAP,CAAY,uBAAZ,EAAqC,UAAC,IAAD,EAAU;AAC3C,UAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,UAAA,KAAI,CAAC,OAAL,aAAkB,IAAI,oBAAc,CAAd,EAAtB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,OAAjB;AACA,UAAA,MAAM,CAAC,IAAP,CAAY,cAAZ,EAA4B;AACxB,kCAAgB,KAAI,CAAC,cAAL,CAAoB,IAAI,CAAC,GAAL,CAAS,KAAI,CAAC,cAAL,CAAoB,OAApB,CAA4B,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,QAA9C,IAA0D,CAAnE,CAApB,CAAhB,CADwB;AAExB,gCAAa,KAAI,CAAC,OAAlB;AAFwB,WAA5B;AAIA,UAAA,MAAM,CAAC,IAAP,CAAY,uBAAZ,EAAqC,UAAC,IAAD,EAAU;AAC3C,YAAA,OAAO,CAAC,GAAR,6CAAkD,IAAI,CAAC,aAAD,CAAtD;;AAEA,YAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,gBAAnB,EAAqC;AAAE,cAAA,WAAW,EAAE,IAAI,CAAC,aAAD;AAAnB,aAArC;;AACA;AACH,WALD;AAMA;AACH,SAfD;AAgBD,OApBD,MAoBM;AACJ,aAAK,KAAL,CAAW;AACT,UAAA,IAAI,EAAE,OADG;AAET,UAAA,KAAK,EAAE,SAFE;AAGT,UAAA,IAAI,EAAE;AAHG,SAAX;AAKF;AACF;AA9BO;AAfI,CAAf","sourcesContent":["<template>\r\n  <button v-on:click=\"changeState()\"><b>Turn {{ getState }}</b></button>\r\n</template>\r\n<script>\r\nconst io = require(\"socket.io-client\");\r\nconst socket = io(\"http://localhost:3001\", {\r\n  transports: [\"websocket\"],\r\n  upgrade: false,\r\n  reconnect: false\r\n});\r\nlet data = {\r\n    \"clientType\": \"client\",\r\n};\r\nsocket.emit(\"client-type\", data);\r\n\r\nexport default {\r\n  name: \"NavBar\",\r\n  props: [\"LedComponent\"],\r\n  data() {\r\n    return {\r\n      btnState: \"On\",\r\n      arduino: \"\",\r\n      possibleStates: [\"On\", \"Off\"]\r\n    };\r\n  },\r\n  computed: {\r\n    getState() {\r\n      return this.possibleStates[Math.abs(this.possibleStates.indexOf(this.$store.state.ledState) - 1)];\r\n    }\r\n  },\r\n  methods: {\r\n    changeState() {\r\n      console.log(socket.connected);\r\n      if (socket.connected == true) {\r\n        socket.emit(\"get-arduinos\", {\r\n          \"request\": \"get-arduinos\"\r\n        });\r\n        socket.once(\"get-arduinos-response\", (data) => {\r\n            console.log(data);\r\n            this.arduino = `${data[`arduinos_${ 0 }`]}`;\r\n            console.log(this.arduino);\r\n            socket.emit(\"change-state\", {\r\n                \"btnState\": `${ this.possibleStates[Math.abs(this.possibleStates.indexOf(this.$store.state.ledState) - 1)] }`,\r\n                \"target\": `${this.arduino}`\r\n            });\r\n            socket.once(\"change-state-response\", (data) => {\r\n                console.log(`Response to change-state request: ${ data[\"newBtnState\"] }`);\r\n                \r\n                this.$store.commit(\"changeLedState\", { newLedState: data[\"newBtnState\"] });\r\n                return;\r\n            });\r\n            return;\r\n        });\r\n      }else {\r\n        this.$swal({\r\n          icon: 'error',\r\n          title: 'Oops...',\r\n          text: 'Something went wrong!',\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\nbutton {\r\n  font-family: Dosis,sans-serif;\r\n  font-size: 1.2em;\r\n  padding-top: 1em;\r\n  padding-bottom: 1em;\r\n  width: 15%;\r\n  background-color: #333333;\r\n  border-radius: 10px;\r\n  border-style: none;\r\n  color: whitesmoke;\r\n  transition: 0.3s;\r\n}\r\nbutton:hover {\r\n  background-color: #576574;\r\n}\r\n.swal-title {\r\n  font-family: Dosis,sans-serif;\r\n}\r\n</style>"],"sourceRoot":""}]}